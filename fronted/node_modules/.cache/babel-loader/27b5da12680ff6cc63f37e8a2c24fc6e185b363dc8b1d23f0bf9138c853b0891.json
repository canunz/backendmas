{"ast":null,"code":"var _jsxFileName = \"C:\\\\ferremasapi\\\\fronted\\\\src\\\\contexto\\\\ContextoCarrito.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarritoContext = /*#__PURE__*/createContext();\nexport const useCarrito = () => {\n  _s();\n  const context = useContext(CarritoContext);\n  if (!context) {\n    throw new Error('useCarrito debe ser usado dentro de CarritoProvider');\n  }\n  return context;\n};\n_s(useCarrito, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst carritoReducer = (estado, accion) => {\n  switch (accion.type) {\n    case 'AGREGAR_PRODUCTO':\n      const productoExistente = estado.productos.find(p => p.id === accion.payload.id);\n      if (productoExistente) {\n        return {\n          ...estado,\n          productos: estado.productos.map(p => p.id === accion.payload.id ? {\n            ...p,\n            cantidad: p.cantidad + 1\n          } : p)\n        };\n      } else {\n        return {\n          ...estado,\n          productos: [...estado.productos, {\n            ...accion.payload,\n            cantidad: 1\n          }]\n        };\n      }\n    case 'REMOVER_PRODUCTO':\n      return {\n        ...estado,\n        productos: estado.productos.filter(p => p.id !== accion.payload)\n      };\n    case 'ACTUALIZAR_CANTIDAD':\n      return {\n        ...estado,\n        productos: estado.productos.map(p => p.id === accion.payload.id ? {\n          ...p,\n          cantidad: accion.payload.cantidad\n        } : p)\n      };\n    case 'LIMPIAR_CARRITO':\n      return {\n        ...estado,\n        productos: []\n      };\n    default:\n      return estado;\n  }\n};\nexport const CarritoProvider = ({\n  children\n}) => {\n  _s2();\n  const [estado, dispatch] = useReducer(carritoReducer, {\n    productos: [],\n    total: 0\n  });\n  const agregarProducto = producto => {\n    dispatch({\n      type: 'AGREGAR_PRODUCTO',\n      payload: producto\n    });\n  };\n  const removerProducto = productId => {\n    dispatch({\n      type: 'REMOVER_PRODUCTO',\n      payload: productId\n    });\n  };\n  const actualizarCantidad = (productId, cantidad) => {\n    dispatch({\n      type: 'ACTUALIZAR_CANTIDAD',\n      payload: {\n        id: productId,\n        cantidad\n      }\n    });\n  };\n  const limpiarCarrito = () => {\n    dispatch({\n      type: 'LIMPIAR_CARRITO'\n    });\n  };\n  const calcularTotal = () => {\n    return estado.productos.reduce((total, producto) => {\n      return total + producto.precio * producto.cantidad;\n    }, 0);\n  };\n  const valor = {\n    productos: estado.productos,\n    total: calcularTotal(),\n    cantidadProductos: estado.productos.reduce((total, p) => total + p.cantidad, 0),\n    agregarProducto,\n    removerProducto,\n    actualizarCantidad,\n    limpiarCarrito\n  };\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: valor,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s2(CarritoProvider, \"3nGzE7jrbF4zTlJ3WhydRIKGyJg=\");\n_c = CarritoProvider;\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsxDEV","_jsxDEV","CarritoContext","useCarrito","_s","context","Error","carritoReducer","estado","accion","type","productoExistente","productos","find","p","id","payload","map","cantidad","filter","CarritoProvider","children","_s2","dispatch","total","agregarProducto","producto","removerProducto","productId","actualizarCantidad","limpiarCarrito","calcularTotal","reduce","precio","valor","cantidadProductos","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/ferremasapi/fronted/src/contexto/ContextoCarrito.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nconst CarritoContext = createContext();\r\n\r\nexport const useCarrito = () => {\r\n  const context = useContext(CarritoContext);\r\n  if (!context) {\r\n    throw new Error('useCarrito debe ser usado dentro de CarritoProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst carritoReducer = (estado, accion) => {\r\n  switch (accion.type) {\r\n    case 'AGREGAR_PRODUCTO':\r\n      const productoExistente = estado.productos.find(p => p.id === accion.payload.id);\r\n      \r\n      if (productoExistente) {\r\n        return {\r\n          ...estado,\r\n          productos: estado.productos.map(p =>\r\n            p.id === accion.payload.id \r\n              ? { ...p, cantidad: p.cantidad + 1 }\r\n              : p\r\n          )\r\n        };\r\n      } else {\r\n        return {\r\n          ...estado,\r\n          productos: [...estado.productos, { ...accion.payload, cantidad: 1 }]\r\n        };\r\n      }\r\n      \r\n    case 'REMOVER_PRODUCTO':\r\n      return {\r\n        ...estado,\r\n        productos: estado.productos.filter(p => p.id !== accion.payload)\r\n      };\r\n      \r\n    case 'ACTUALIZAR_CANTIDAD':\r\n      return {\r\n        ...estado,\r\n        productos: estado.productos.map(p =>\r\n          p.id === accion.payload.id \r\n            ? { ...p, cantidad: accion.payload.cantidad }\r\n            : p\r\n        )\r\n      };\r\n      \r\n    case 'LIMPIAR_CARRITO':\r\n      return {\r\n        ...estado,\r\n        productos: []\r\n      };\r\n      \r\n    default:\r\n      return estado;\r\n  }\r\n};\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n  const [estado, dispatch] = useReducer(carritoReducer, {\r\n    productos: [],\r\n    total: 0\r\n  });\r\n\r\n  const agregarProducto = (producto) => {\r\n    dispatch({ type: 'AGREGAR_PRODUCTO', payload: producto });\r\n  };\r\n\r\n  const removerProducto = (productId) => {\r\n    dispatch({ type: 'REMOVER_PRODUCTO', payload: productId });\r\n  };\r\n\r\n  const actualizarCantidad = (productId, cantidad) => {\r\n    dispatch({ type: 'ACTUALIZAR_CANTIDAD', payload: { id: productId, cantidad } });\r\n  };\r\n\r\n  const limpiarCarrito = () => {\r\n    dispatch({ type: 'LIMPIAR_CARRITO' });\r\n  };\r\n\r\n  const calcularTotal = () => {\r\n    return estado.productos.reduce((total, producto) => {\r\n      return total + (producto.precio * producto.cantidad);\r\n    }, 0);\r\n  };\r\n\r\n  const valor = {\r\n    productos: estado.productos,\r\n    total: calcularTotal(),\r\n    cantidadProductos: estado.productos.reduce((total, p) => total + p.cantidad, 0),\r\n    agregarProducto,\r\n    removerProducto,\r\n    actualizarCantidad,\r\n    limpiarCarrito\r\n  };\r\n\r\n  return (\r\n    <CarritoContext.Provider value={valor}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}